package kr.or.kosa;

import java.util.*;

public class BookManager {
//	List<Book> books; 
	HashMap<String,Book> books;
	
	public BookManager() {
		super();
		this.books = new HashMap<>();
	}
	
	public void Run() {
		Scanner sc = new Scanner(System.in);
		while(true) {
			System.out.println("1:추가 2:삭제 3:검색 4:도서 목록 5:ISBN 목록 0:종료");
			System.out.println("메뉴번호 입력 : ");
			String selectedMenu = sc.nextLine();
			switch(selectedMenu) {
			case "1" : // 도서추가
				System.out.println("추가할 도서 ISBN: ");
				String bookNo = sc.nextLine();
				System.out.println("도서 제목: ");
				String bookTitle = sc.nextLine();
				System.out.println("가격 : ");
				int price = Integer.parseInt(sc.nextLine());
				addBook(bookNo, bookTitle, price);
				System.out.printf("ISBN:%s 이름:%s 가격:%d 생성하였습니다.\n", bookNo, bookTitle, price);
				break;
			case "2" : 
				// 도서삭제
				System.out.println("삭제할 도서 ISBN: ");
				String bookNo2 = sc.nextLine();
				for(String isbn : books.keySet()) {
					if(isbn.equals(bookNo2)) {
						books.remove(isbn);
						System.out.printf("삭제하였습니다");
						break;
					}
				}
				
				break;
			case "3" : 
				// 도서 검색
				System.out.print("검색할 도서 ISBN:");
				String isbn2 = sc.nextLine();
				for(String isbn : books.keySet()) {
					if(isbn.equals(isbn2)) {
						System.out.printf("검색 결과>>ISBN:%s 이름:%s 가격:%d", isbn, books.get(isbn).bookTitle, books.get(isbn).price);
						break;
					}
				}
				break;
			case "4" : 
				// 도서 목록 조회
				System.out.printf("도서목록 \n 도서 수 : %d \n", books.size());
				for(String isbn :books.keySet()) { //*********************
					System.out.printf(" ISBN:%s 이름:%s가격:%d \n",isbn, books.get(isbn).bookTitle, books.get(isbn).price );
				}
				break;
			case "5" : 
				// ISBN 목록 조회
				System.out.printf("ISBN 목록 \n 도서 수 : %d \n", books.size());
				for(String isbn : books.keySet()) {
					System.out.println(isbn);
				}
				break;
			case "0" : 
				// 종료
				break;
			default: System.out.println("잘못 입력하셨습니다. 다시 입력해주세요");
			}
		}
	}
	
	void addBook(String bookNo, String bookTitle, int price) {
		this.books.put(bookNo, new Book(bookNo, bookTitle, price));
	}
}
